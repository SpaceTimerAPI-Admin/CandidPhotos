<!doctype html>
<html>
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"><title>Diagnostics</title></head>
<body style="font-family:system-ui;padding:20px">
  <h1>Diagnostics</h1>
  <p><button id="btn">Call /.netlify/functions/ping</button></p>
  <pre id="out" style="white-space:pre-wrap;background:#111;color:#eee;padding:10px;border-radius:8px"></pre>
  <script>
    const out = document.getElementById('out');
    document.getElementById('btn').onclick = async () => {
      out.textContent = 'Requesting...';
      try {
        const r = await fetch('/.netlify/functions/ping');
        const t = await r.text();
        out.textContent = 'Status: ' + r.status + '\n\n' + t;
      } catch (e) {
        out.textContent = 'Network error: ' + (e.message || e);
      }
    };
  </script>
</body>
</html>
